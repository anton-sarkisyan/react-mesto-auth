{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo-mesto.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthPage.js","components/Login.js","images/fail-register.svg","images/success-register.svg","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","signOut","userEmail","path","className","src","logoMesto","alt","to","exact","onClick","Card","props","currentUser","useContext","isLiked","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","type","onCardDelete","link","title","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","cards","map","item","id","Footer","PopupWithForm","isOpen","e","target","classList","contains","onClose","onSubmit","children","ImagePopup","card","api","address","token","cohortId","this","_address","_token","_cohort","response","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponse","method","body","JSON","stringify","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","preventDefault","value","onChange","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","setLink","AuthPage","data","email","password","Login","signIn","history","useHistory","setData","evt","push","Register","handleSignUp","handleInfoToolTip","res","icon","successRegister","failRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","responseCheck","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isOpenPhotoPopup","setIsOpenPhotoPopup","selectedCard","setSelectedCard","setCards","setLoggedIn","isOpenInfoToolTip","setIsOpenInfoToolTip","infoToolTipData","setInfoToolTipData","setUserEmail","handleEscClose","key","closeAllPopups","document","addEventListener","removeEventListener","getUserData","result","catch","err","getInitialCard","console","log","jwt","localStorage","getItem","getData","tokenCheck","Provider","removeItem","setItem","signUp","statusCode","Error","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editUserData","addNewCard","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d39b05db.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n\n","export default __webpack_public_path__ + \"static/media/logo-mesto.bbe2a6ea.svg\";","import logoMesto from '../images/logo-mesto.svg';\nimport { Route, Switch, Link } from 'react-router-dom';\n\nfunction Header({ signOut, userEmail }) {\n  return (\n    <Switch>\n      <Route path=\"/sign-in\">\n        <header className=\"header\">\n          <img src={logoMesto} alt=\"Логотип Mesto\" className=\"header__logo\" />\n          <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n        </header>\n      </Route>\n      <Route path=\"/sign-up\">\n        <header className=\"header\">\n          <img src={logoMesto} alt=\"Логотип Mesto\" className=\"header__logo\" />\n          <Link className=\"header__link\" to=\"/sign-in\">Вход</Link>\n        </header>\n      </Route>\n      <Route exact path=\"/\">\n        <header className=\"header\">\n          <img src={logoMesto} alt=\"Логотип Mesto\" className=\"header__logo\" />\n          <div className=\"header__items\">\n            <p className=\"header__text\">{userEmail}</p>\n            <Link\n              className=\"header__link header__link_type_main-page\"\n              onClick={signOut}\n              to=\"/sign-in\"\n            >Выйти</Link>\n          </div>\n        </header>\n      </Route>\n    </Switch>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`element__button ${isLiked ? 'element__button_active' : ' '}`)\n  const isOwn = props.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? 'element__delete-button_type_visible' : 'element__delete-button_type_hidden'}`\n  );\n\n  return (\n    <li className=\"element\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={() => { props.onCardDelete(props) }}>\n      </button>\n      <img\n        className=\"element__photo\"\n        src={props.link}\n        alt={props.title}\n        onClick={() => { props.onCardClick(props) }}\n      />\n      <div className=\"element__description\">\n        <h2 className=\"element__title\">{props.title}</h2>\n        <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={() => { props.onCardLike(props) }}>\n        </button>\n        <span className=\"element__count-like\">{props.likes.length}</span>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;\n","import { computeHeadingLevel } from '@testing-library/react';\nimport React from 'react'\nimport Card from './Card'\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__items\">\n          <div className=\"profile__avatar-overlay\">\n            <img\n              src={currentUser.avatar}\n              alt=\"Аватар профиля\"\n              className=\"profile__avatar\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button\n            type=\"button\"\n            className=\"profile__edit-button\"\n            onClick={props.onEditProfile}\n          >\n          </button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}>\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__grid\">\n          {props.cards.map((item) => (\n            <Card\n              key={item._id}\n              id={item._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n              link={item.link}\n              title={item.name}\n              likes={item.likes}\n              owner={item.owner} />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen}`}\n      onClick={(e) => { if (e.target.classList.contains(props.isOpen)) { props.onClose() } }}>\n      <form className={`popup__items popup__items_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\n        <button className={`popup__close-button popup__close-button_type_${props.name}`} onClick={props.onClose} type=\"button\"></button>\n        <h3 className={`popup__title popup__title_type_${props.name}`}>{props.title}</h3>\n        {props.children}\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_open-photo ${props.isOpen}`}\n      onClick={(e) => { if (e.target.classList.contains(props.isOpen)) { props.onClose() } }}\n    >\n      <div className=\"popup__items popup__items_type_open-photo\" name=\"openPhotoForm\">\n        <button className=\"popup__close-button popup__close-button_type_open-photo\" type=\"button\" onClick={props.onClose}></button>\n        <img className=\"popup__big-photo\" src={props.card.link} alt=\"#\" />\n        <p className=\"popup__description\">{props.card.title}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({ address, token, cohortId }) {\n    this._address = address;\n    this._token = token;\n    this._cohort = cohortId;\n  }\n\n  _getResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка ${response.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._address}/v1/${this._cohort}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(response => this._getResponse(response));\n  }\n\n  getInitialCard() {\n    return fetch(`${this._address}/v1/${this._cohort}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(response => this._getResponse(response));\n  }\n\n  editUserData({ name, about }) {\n    return fetch(`${this._address}/v1/${this._cohort}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(response => this._getResponse(response));\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._address}/v1/${this._cohort}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(response => this._getResponse(response));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._address}/v1/${this._cohort}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    }).then(response => this._getResponse(response));\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._address}/v1/${this._cohort}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token\n        },\n      }).then(response => this._getResponse(response));\n    } else {\n      return fetch(`${this._address}/v1/${this._cohort}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token\n        },\n      }).then(response => this._getResponse(response));\n    }\n  }\n\n  changeAvatar({ avatar }) {\n    return fetch(`${this._address}/v1/${this._cohort}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(response => this._getResponse(response));\n  }\n}\n\nconst api = new Api({\n  address: 'https://mesto.nomoreparties.co',\n  token: '78cfcf12-b1ee-4c9f-922c-0fac77943b1b',\n  cohortId: 'cohort-19'\n})\n\nexport default api;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({ name, about: description });\n  }\n\n  return (<PopupWithForm\n    name=\"edit-profile\"\n    title=\"Редактировать профиль\"\n    onClose={onClose}\n    isOpen={isOpen && \"popup_opened\"}\n    onSubmit={handleSubmit}\n  >\n    <fieldset className=\"popup__item popup__item_type_edit-popup\">\n      <input\n        id=\"firstname\"\n        className=\"popup__text popup__text_type_name\"\n        type=\"text\"\n        name=\"firstname\"\n        value={name || ''}\n        onChange={handleChangeName}\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span id=\"firstname-error\" className=\"popup__error\"></span>\n      <input\n        id=\"job\"\n        className=\"popup__text popup__text_type_job\"\n        name=\"job\"\n        type=\"text\"\n        value={description || ''}\n        onChange={handleChangeDescription}\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span id=\"job-error\" className=\"popup__error\"></span>\n      <button className=\"popup__submit-button popup__submit-button_type_edit-profile\" type=\"submit\">Сохранить</button>\n    </fieldset>\n  </PopupWithForm>)\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      avatarRef.current.value = \"\";\n    }\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      isOpen={isOpen && \"popup_opened\"}\n      onClose={onClose}\n      title=\"Обновить аватар\"\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__item popup__item_type_avatar\">\n        <input\n          ref={avatarRef}\n          id=\"urlAvatar\"\n          className=\"popup__text popup__text_type_avatar\"\n          type=\"url\"\n          name=\"urlAvatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n        />\n        <span id=\"urlAvatar-error\" className=\"popup__error\"></span>\n        <button className=\"popup__submit-button popup__submit-button_type_avatar\" type=\"submit\">Сохранить</button>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      setName('');\n      setLink('');\n    }\n  }, [isOpen])\n\n  function handleAddCardName(e) {\n    setName(e.target.value);\n  }\n\n  function handleAddCardLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({ name, link });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"Новое место\"\n      isOpen={isOpen && \"popup_opened\"}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__item popup__item_type_add-card\">\n        <input\n          id=\"titleCard\"\n          className=\"popup__text popup__text_type_title-card\"\n          type=\"text\"\n          name=\"titleCard\"\n          value={name}\n          onChange={handleAddCardName}\n          placeholder=\"Название\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n        />\n        <span id=\"titleCard-error\" className=\"popup__error\"></span>\n        <input id=\"urlCard\"\n          className=\"popup__text popup__text_type_url-card\"\n          type=\"url\"\n          name=\"urlCard\"\n          onChange={handleAddCardLink}\n          value={link}\n          placeholder=\"Ссылка на картинку\" required\n        />\n        <span id=\"urlCard-error\" className=\"popup__error\"></span>\n        <button className=\"popup__submit-button popup__submit-button_type_add-form\" type=\"submit\">Создать</button>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","export default function AuthPage({ data, onChange, onSubmit, title, children }) {\n  return (\n    <div className=\"auth-form\">\n      <form\n        className=\"auth-form__items\"\n        onSubmit={onSubmit}\n      >\n        <h3 className=\"auth-form__title\">{title}</h3>\n        <input\n          id=\"email\"\n          onChange={onChange}\n          className=\"auth-form__input\"\n          type=\"email\"\n          name=\"email\"\n          value={data.email}\n          placeholder=\"Email\"\n        />\n        <input\n          id=\"password\"\n          onChange={onChange}\n          className=\"auth-form__input\"\n          value={data.password}\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n        />\n        {children}\n      </form>\n    </div>\n  )\n}\n","import React from 'react';\nimport AuthPage from './AuthPage';\nimport { useHistory } from 'react-router-dom'\n\nexport default function Login({ signIn }) {\n  const history = useHistory();\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  })\n\n  function resetForm() {\n    setData({\n      email: '',\n      password: ''\n    })\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value\n    }))\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (!data.email || !data.password) {\n      return;\n    }\n\n    signIn(data)\n    .then(() => resetForm())\n    .then(() => history.push('/'));\n  }\n\n  return (\n    <AuthPage\n      onChange={handleChange}\n      onSubmit={handleSubmit}\n      title=\"Вход\"\n      data={data}\n    >\n      <button\n        className=\"auth-form__submit-button auth-form__submit-button_type_login\"\n        type=\"submit\">Войти</button>\n    </AuthPage>\n  )\n}\n\n","export default __webpack_public_path__ + \"static/media/fail-register.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success-register.1b6082f8.svg\";","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom';\nimport AuthPage from './AuthPage';\nimport failRegister from '../images/fail-register.svg';\nimport successRegister from '../images/success-register.svg';\n\nexport default function Register({ handleSignUp, handleInfoToolTip }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  })\n\n  const history = useHistory();\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value\n    }))\n  }\n\n  function resetForm() {\n    setData({\n      email: '',\n      password: ''\n    })\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (!data.email || !data.password) {\n      return;\n    }\n\n    handleSignUp(data)\n      .then((res) => {\n        if (typeof res == 'undefined') {\n          handleInfoToolTip({\n            title: 'Что-то пошло не так! Попробуйте ещё раз.',\n            icon: failRegister\n          });\n          return;\n        }\n        handleInfoToolTip({\n          title: 'Вы успешно зарегистрировались!',\n          icon: successRegister\n        });\n        resetForm();\n        history.push('/sign-in');\n      })\n  }\n\n  return (\n    <AuthPage\n      title=\"Регистрация\"\n      onChange={handleChange}\n      onSubmit={handleSubmit}\n      data={data}\n    >\n      <button\n        className=\"auth-form__submit-button auth-form__submit-button_type_register\"\n        type=\"submit\"\n      >Зарегистрироваться\n      </button>\n      <p className=\"auth-form__redirect\">Уже зарегистрированы? <Link className=\"auth-form__link\" to=\"/sign-in\">Войти</Link></p>\n    </AuthPage>\n  )\n}\n\n","import { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen}`}\n      onClick={(e) => { if (e.target.classList.contains(props.isOpen)) { props.onClose() } }}\n    >\n      <div className=\"popup__items popup__items_type_info-tool-tip\">\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\n        <img className=\"popup-icon\" src={props.data.icon} alt=\"#\" />\n        <p className=\"popup__title popup__title_type_info-tool-tip\">{props.data.title}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","const address = 'https://auth.nomoreparties.co';\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport function signUp({ password, email }) {\n  return fetch(`${address}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email\n    })\n  })\n    .then(responseCheck)\n    .then(response => response);\n}\n\nexport function signIn({ password, email }) {\n  return fetch(`${address}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email\n    })\n  })\n    .then(responseCheck)\n    .then(response => response);\n}\n\nexport function getData({ jwt }) {\n  return fetch(`${address}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${jwt}`\n    }\n  })\n    .then(responseCheck)\n    .then(response => response);\n}\n","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute'\nimport InfoTooltip from './InfoTooltip';\nimport { signUp, signIn, getData } from '../utils/auth';\n\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isOpenPhotoPopup, setIsOpenPhotoPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isOpenInfoToolTip, setIsOpenInfoToolTip] = React.useState(false);\n  const [infoToolTipData, setInfoToolTipData] = React.useState({\n    title: '',\n    icon: ''\n  })\n  const [userEmail, setUserEmail] = React.useState('');\n\n  React.useEffect(() => {\n    const handleEscClose = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => document.removeEventListener('keydown', handleEscClose)\n  })\n\n  React.useEffect(() => {\n    api.getUserData()\n      .then(result => setCurrentUser(result))\n      .catch(err => `ошибка ${err} при получении данных пользователя`);\n  }, [])\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsOpenPhotoPopup(false);\n    setIsOpenInfoToolTip(false);\n  }\n\n  function handleInfoToolTip({ title, icon }) {\n    setInfoToolTipData({ title, icon });\n    setIsOpenInfoToolTip(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsOpenPhotoPopup(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.editUserData({ name, about })\n      .then(result => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка ${err} при обновлении данных пользователя`));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.changeAvatar({ avatar })\n      .then(result => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка ${err} при изменении аватара`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card.id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card.id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка ${err} при обработке лайка`));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card.id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card.id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка ${err} при удалении карточки`));\n  }\n\n  React.useEffect(() => {\n    api.getInitialCard()\n      .then(result => setCards(result))\n      .catch(err => console.log(`Ошибка ${err} при получении карточки`));\n  }, [])\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api.addNewCard({ name, link })\n      .then(newCard => {\n        setCards([newCard, ...cards])\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка ${err} при добавлении карточки`));\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [])\n\n  function handleSignUp({ password, email }) {\n    return signUp({ password, email })\n      .then(res => {\n        if (!res || res.statusCode === 400) throw new Error('Что-то пошло не так');\n        return res;\n      })\n      .catch(err => console.log(`Ошибка ${err} при регистрации`))\n  }\n\n  function handleSignIn({ password, email }) {\n    return signIn({ password, email })\n      .then(res => {\n        if (res.token) {\n          setUserEmail(email);\n          setLoggedIn(true);\n          localStorage.setItem('jwt', res.token);\n        }\n      })\n      .catch(err => console.log(`Ошибка ${err} при авторизации`))\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n\n    if (jwt) {\n      getData({ jwt })\n        .then((res) => {\n          if (res) {\n            setUserEmail(res.data.email);\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n        .catch(() => history.push('/sign-in'));\n    }\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('jwt');\n    setUserEmail('');\n    setLoggedIn(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header\n            signOut={handleSignOut}\n            userEmail={userEmail}\n          />\n          <Switch>\n            <Route path=\"/sign-in\">\n              <Login\n                signIn={handleSignIn}\n              />\n            </Route>\n            <Route\n              path=\"/sign-up\">\n              <Register\n                handleInfoToolTip={handleInfoToolTip}\n                handleSignUp={handleSignUp}\n              />\n            </Route>\n            <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          </Switch>\n          <Footer />\n          <InfoTooltip\n            isOpen={isOpenInfoToolTip && \"popup_opened\"}\n            onClose={closeAllPopups}\n            data={infoToolTipData}\n          />\n          <ImagePopup\n            isOpen={isOpenPhotoPopup && \"popup_opened\"}\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            name=\"delete-card\"\n            title=\"Вы уверены?\"\n          >\n            <div className=\"popup__item\">\n              <button className=\"popup__submit-button\" type=\"submit\">Да</button>\n            </div>\n          </PopupWithForm>\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}